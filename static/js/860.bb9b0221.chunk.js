"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[860],{34860:function(e,n,t){t.r(n),t.d(n,{default:function(){return se}});var a=t(23132),r=t(47313),o=t(45894),i=t(9038),s=t(4942),l=t(15861),c=t(87757),u=t.n(c),f=t(2628),d=t(31881),p=t.n(d),g=t(19386),x=t(27233),m=(0,f.hg)("leafSortingConfigApp/leafSorting/getLeafSorting",function(){var e=(0,l.Z)(u().mark((function e(n,t){var a,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getState,n=n||a().leafSortingConfigApp.leafSorting.routeParams,e.next=4,p().get("".concat(g.J,"/Robots"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(x.Z.getAccessToken())}});case 4:return r=e.sent,e.next=7,r.data;case 7:return o=e.sent,e.abrupt("return",{data:o,routeParams:n});case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),h=(0,f.hg)("leafSortingConfigApp/leafSorting/addNewLeafSorting",function(){var e=(0,l.Z)(u().mark((function e(n,t){var a,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,p().post("".concat(g.J,"/Robots"),n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(x.Z.getAccessToken())}});case 3:return r=e.sent,e.next=6,r.data;case 6:return o=e.sent,a(m()),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),v=(0,f.hg)("leafSortingConfigApp/leafSorting/updateLeafSorting",function(){var e=(0,l.Z)(u().mark((function e(n,t){var a,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,p().put("".concat(g.J,"/api/LeafSorting"),n);case 3:return r=e.sent,e.next=6,r.data;case 6:return o=e.sent,a(m()),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),S=(0,f.hg)("leafSortingConfigApp/leafSorting/removeLeafSorting",function(){var e=(0,l.Z)(u().mark((function e(n,t){var a,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dispatch,e.next=3,p().put("".concat(g.J,"/api/LeafSorting/disable/").concat(n));case 3:return r=e.sent,e.next=6,r.data;case 6:return o=e.sent,a(m()),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),j=(0,f.HF)({}),Z=j.getSelectors((function(e){return e.leafSortingConfigApp.leafSorting})).selectAll,y=(0,f.oM)({name:"leafSortingConfigApp/leafSorting",initialState:j.getInitialState({searchText:"",routeParams:{},leafSortingConfigs:[],leafSortingConfigDialog:{type:"new",props:{open:!1},data:null}}),reducers:{openNewLeafSortingConfigDialog:function(e){e.leafSortingConfigDialog={type:"new",props:{open:!0},data:null}},closeNewLeafSortingConfigDialog:function(e){e.leafSortingConfigDialog={type:"new",props:{open:!1},data:null}},openEditLeafSortingConfigDialog:function(e,n){e.leafSortingConfigDialog={type:"edit",props:{open:!0},data:n.payload}},closeEditLeafSortingConfigDialog:function(e){e.leafSortingConfigDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:(0,s.Z)({},m.fulfilled,(function(e,n){var t=n.payload,a=t.data,r=t.routeParams;j.setAll(e,a),e.leafSortingConfigs=a,e.routeParams=r}))}),C=y.actions,b=C.openNewLeafSortingConfigDialog,w=C.closeNewLeafSortingConfigDialog,N=C.openEditLeafSortingConfigDialog,D=C.closeEditLeafSortingConfigDialog,A=y.reducer,L=(0,i.UY)({leafSorting:A}),k=t(2275),T=t(29439),E=t(62321),P=t(47131),I=t(71263),R=t(61113),F=t(70816),H=t.n(F),V=t(73754),_=t(93695),W=t(41789),Y=t(1421),J=t(46417);var M=function(){var e=(0,o.I0)(),n=(0,o.v9)(Z),t=(0,o.v9)((function(e){return e.leafSortingConfigApp.leafSorting.searchText})),a=(0,W.Z)(n,t),i=a.statusFilter,s=a.filteredData,l=(0,r.useState)(!1),c=(0,T.Z)(l,2),u=c[0],f=c[1],d=(0,r.useState)(0),p=(0,T.Z)(d,2),g=p[0],x=p[1],m=(0,r.useMemo)((function(){return[{Header:"Nombre",accessor:"name",sortable:!0},{Header:"Descripci\xf3n",accessor:"description",sortable:!0},{Header:"Fecha",accessor:"dateCreated",sortable:!0,Cell:function(e){var n=e.row;return(0,J.jsx)("div",{className:"flex items-center",children:H()(n.original.dateCreated).format("DD-MM-YYYY")})}},{Header:"Notas",accessor:"notes",sortable:!0},{id:"action",Header:"Eliminar",className:"justify-center",width:128,sortable:!1,Cell:function(e){var n=e.row;return(0,J.jsx)("div",{className:"flex items-center",children:(0,J.jsx)(P.Z,{onClick:function(e){e.stopPropagation(),f(!0),x(n.original.id)},children:(0,J.jsx)(I.Z,{children:"delete"})})})}}]}),[]);return i&&!s.length?(0,J.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,J.jsx)(R.Z,{color:"textSecondary",variant:"h5",children:"No hay datos!"})}):i?(0,J.jsxs)(E.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-auto w-full max-h-full",children:[(0,J.jsx)(Y.Z,{columns:m,data:s,onRowClick:function(n,t){t&&e(N(t.original))},rowsPerPageOptions:[5,10,15,25]}),(0,J.jsx)(_.Z,{isOpen:u,setIsOpen:f,deleteData:function(){e(S(g))},message:"este robot"})]}):(0,J.jsx)(V.Z,{})},z=t(1413),O=t(14790),Q=t(96467),q=t(75627),B=t(3463),U=t(66149),X=t(75908),G=t(9289),K=t(16783),$=t(43850),ee=t(84305),ne={name:"",description:"",notes:""},te=B.Ry().shape({name:B.Z_().required("Debe ingresar un nombre").min(1,"Debe de tener m\xednimo 1 caracter.")});var ae=function(){var e=(0,o.I0)(),n=(0,o.v9)((function(e){return e.leafSortingConfigApp.leafSorting.leafSortingConfigDialog})),t=(0,q.cI)({mode:"onChange",defaultValues:ne,resolver:(0,O.X)(te)}),a=t.control,i=t.reset,s=t.handleSubmit,l=t.formState,c=l.errors,u=l.isValid,f=(0,r.useCallback)((function(){"edit"===n.type&&n.data&&i(n.data),"new"===n.type&&i(ne)}),[n.data,n.type,i]);function d(){return"edit"===n.type?e(D()):e(w())}return(0,r.useEffect)((function(){n.props.open&&f()}),[n.props.open,f]),(0,J.jsxs)(U.Z,(0,z.Z)((0,z.Z)({classes:{paper:"m-24"}},n.props),{},{onClose:d,fullWidth:!0,maxWidth:"xs",children:[(0,J.jsx)(X.Z,{position:"static",elevation:0,children:(0,J.jsx)(G.Z,{className:"flex w-full",children:(0,J.jsx)(R.Z,{variant:"subtitle1",color:"inherit",children:"new"===n.type?"Nuevo":"Editar"})})}),(0,J.jsxs)("form",{noValidate:!0,onSubmit:s((function(t){"new"===n.type?(e($.PV({message:"Creando..."})),e(h(t))):(e($.PV({message:"Actualizando..."})),e(v((0,z.Z)((0,z.Z)({},n.data),t)))),d()})),className:"flex flex-col md:overflow-hidden",children:[(0,J.jsxs)(Q.Z,{classes:{root:"p-24"},children:[(0,J.jsxs)("div",{className:"flex",children:[(0,J.jsx)("div",{className:"min-w-48 pt-20",children:(0,J.jsx)(I.Z,{color:"action",children:"account_circle"})}),(0,J.jsx)(q.Qr,{control:a,name:"name",render:function(e){var n,t=e.field;return(0,J.jsx)(K.Z,(0,z.Z)((0,z.Z)({},t),{},{className:"mb-24",label:"Nombre",type:"text",error:!!c.name,helperText:null===c||void 0===c||null===(n=c.name)||void 0===n?void 0:n.message,variant:"outlined",required:!0,fullWidth:!0}))}})]}),(0,J.jsxs)("div",{className:"flex",children:[(0,J.jsx)("div",{className:"min-w-48 pt-20",children:(0,J.jsx)(I.Z,{color:"action",children:"category"})}),(0,J.jsx)(q.Qr,{control:a,name:"description",render:function(e){var n=e.field;return(0,J.jsx)(K.Z,(0,z.Z)((0,z.Z)({},n),{},{className:"mb-24",label:"Descripci\xf3n",variant:"outlined",type:"text",fullWidth:!0}))}})]}),(0,J.jsxs)("div",{className:"flex",children:[(0,J.jsx)("div",{className:"min-w-48 pt-20",children:(0,J.jsx)(I.Z,{color:"action",children:"category"})}),(0,J.jsx)(q.Qr,{control:a,name:"notes",render:function(e){var n=e.field;return(0,J.jsx)(K.Z,(0,z.Z)((0,z.Z)({},n),{},{className:"mb-24",label:"Notas",variant:"outlined",type:"text",fullWidth:!0}))}})]})]}),(0,J.jsx)(ee.Z,{dialogType:n.type,isValid:u})]})]}))},re=t(53709),oe=t(23025),ie=(0,k.Z)();var se=(0,a.Z)("leafSortingConfigApp",L)((function(){var e=(0,o.I0)(),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){e(m())}),[]),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(ie,{header:(0,J.jsx)(oe.Z,{pageLayout:n,headerName:"Robots",iconType:"settings"}),content:(0,J.jsx)(M,{}),leftSidebarContent:(0,J.jsx)(re.Z,{buttonText:"Crear",openDialogFunction:b}),sidebarInner:!0,ref:n,innerScroll:!0}),(0,J.jsx)(ae,{})]})}))},53709:function(e,n,t){var a=t(45894),r=t(62321),o=t(82295),i=t(69099),s=t(46417);n.Z=function(e){var n=e.buttonText,t=e.openDialogFunction,l=(0,a.I0)();return(0,s.jsx)("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4",children:(0,s.jsx)(o.Z,{component:r.E.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"rounded-0 shadow-none lg:rounded-16 lg:shadow",children:(0,s.jsx)("div",{className:"p-24",children:(0,s.jsx)(i.Z,{variant:"contained",color:"secondary",className:"w-full",onClick:function(){return l(t())},children:n})})})})}}}]);