"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[133],{65575:function(e,r,a){var t=a(4229),n=a(19386),s=a(46417);r.Z=function(){return"baldom"===t.Z.layout.project||"fakeBaldom"===t.Z.layout.project||"fraga"===t.Z.layout.project||"fakeFraga"===t.Z.layout.project||"task"===t.Z.layout.project||"GTS"===t.Z.layout.project?(0,s.jsx)("img",{className:"w-128 m-32",src:n.u,alt:"logo"}):void 0}},98133:function(e,r,a){a.r(r),a.d(r,{default:function(){return A}});var t=a(1413),n=a(62321),s=a(75627),o=a(69099),i=a(73428),l=a(93405),c=a(16783),d=a(61113),u=a(29466),m=a(41727),f=a(83061),p=a(71263),h=a(65575),x=(a(47313),a(48070)),v=a(17551),y=a(3463),j=a(45894),b=a(97890),Z=a(65520),w=a(43850),g=a(27233),N=(0,x.Z)((function(e){return{root:{background:"radial-gradient(".concat((0,v._j)(e.palette.primary.dark,.5)," 0%, ").concat(e.palette.primary.dark," 80%)"),color:e.palette.primary.contrastText}}})),P=y.Ry().shape({password:y.Z_().required("Por favor, ingrese su contrase\xf1a.").min(8,"El m\xednimo de caracteres debe ser 8.").max(16,"El m\xe1ximo de caracteres debe ser 16.").matches(/^(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,16}$/,"Debe tener al menos 1 letra, 1 n\xfamero y 1 s\xedmbolo !@#$%^&*"),confirmPassword:y.Z_().required("Debe confirmar su contrase\xf1a.").oneOf([y.iH("password"),null],"Las contrase\xf1as no son iguales.")}),k={password:"",confirmPassword:""},S=function(){var e=(0,j.I0)(),r=N(),a=(0,b.s0)(),n=new URLSearchParams((0,b.TH)().search).get("token"),o=(0,s.cI)({mode:"onChange",defaultValues:k,resolver:(0,Z.X)(P)}),i=o.control,l=o.handleSubmit,c=o.formState.errors,d=o.watch,u=d("password"),m=d("confirmPassword");return{classes:r,control:i,errors:c,canBeSubmitted:function(){return function(e){return/[a-z]/.test(e)&&/[0-9]/.test(e)&&/(?=.*[!@#$%^&*])/.test(e)&&e.length>=8&&e.length<=16}(u)&&m===u},handleSubmit:l,onSubmit:function(r){e(w.PV({message:"Cambiando contrase\xf1a..."})),g.Z.createResetPassword((0,t.Z)({token:n},r)).then((function(r){e(w.PV({message:r.data.message}))})).catch((function(){e(w.PV({message:"Fallo en la verificaci\xf3n del token"}))})).finally((function(){a({pathname:"/login"})}))}}},_=a(46417);var A=function(){var e=S(),r=e.classes,a=e.control,x=e.errors,v=e.canBeSubmitted,y=e.handleSubmit,j=e.onSubmit;return(0,_.jsx)("div",{className:(0,f.Z)(r.root,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-32"),children:(0,_.jsx)(n.E.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},children:(0,_.jsx)(i.Z,{className:"w-full max-w-384",children:(0,_.jsxs)(l.Z,{className:"flex flex-col items-center justify-center p-16 sm:p-24 md:p-32",children:[(0,_.jsx)(h.Z,{}),(0,_.jsx)(d.Z,{variant:"h6",className:"mt-16 mb-24 font-semibold text-18 sm:text-24",children:"CAMBIA TU CONTRASE\xd1A"}),(0,_.jsxs)("form",{name:"resetForm",noValidate:!0,className:"flex flex-col justify-center w-full",onSubmit:y(j),children:[(0,_.jsx)(s.Qr,{name:"password",control:a,render:function(e){var r,a=e.field;return(0,_.jsx)(c.Z,(0,t.Z)((0,t.Z)({},a),{},{className:"mb-16",label:"Contrase\xf1a",type:"password",name:"password",error:!!x.password,helperText:null===x||void 0===x||null===(r=x.password)||void 0===r?void 0:r.message,variant:"outlined",required:!0,fullWidth:!0,InputProps:{endAdornment:(0,_.jsx)(m.Z,{position:"end",children:(0,_.jsx)(p.Z,{className:"text-20",color:"action",children:"vpn_key"})})}}))}}),(0,_.jsx)(s.Qr,{name:"confirmPassword",control:a,render:function(e){var r,a=e.field;return(0,_.jsx)(c.Z,(0,t.Z)((0,t.Z)({},a),{},{className:"mb-16",label:"Repita la contrase\xf1a",type:"password",error:!!x.confirmPassword,helperText:null===x||void 0===x||null===(r=x.confirmPassword)||void 0===r?void 0:r.message,variant:"outlined",required:!0,fullWidth:!0,InputProps:{endAdornment:(0,_.jsx)(m.Z,{position:"end",children:(0,_.jsx)(p.Z,{className:"text-20",color:"action",children:"vpn_key"})})}}))}}),(0,_.jsx)(o.Z,{variant:"contained",color:"primary",className:"w-224 mx-auto mt-16","aria-label":"Reset",disabled:!v(),type:"submit",children:"Restablecer tu contrase\xf1a."})]}),(0,_.jsx)("div",{className:"flex flex-col items-center justify-center pt-32 pb-24",children:(0,_.jsx)(u.rU,{className:"font-normal",to:"/login",children:"Ir a iniciar sesi\xf3n"})})]})})})})}},65520:function(e,r,a){a.d(r,{X:function(){return s}});var t=a(26728),n=a(75627),s=function(e,r,a){return void 0===r&&(r={}),void 0===a&&(a={}),function(s,o,i){try{return Promise.resolve(function(n,l){try{var c=(r.context,Promise.resolve(e["sync"===a.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},r,{context:o}))).then((function(e){return i.shouldUseNativeValidation&&(0,t.M)({},i),{values:e,errors:{}}})))}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:(0,t.D)((r=e,a=!i.shouldUseNativeValidation&&"all"===i.criteriaMode,(r.inner||[]).reduce((function(e,r){if(e[r.path]||(e[r.path]={message:r.message,type:r.type}),a){var t=e[r.path].types,s=t&&t[r.type];e[r.path]=(0,n.KN)(r.path,a,e,r.type,s?[].concat(s,r.message):r.message)}return e}),{})),i)};var r,a})))}catch(l){return Promise.reject(l)}}}}}]);