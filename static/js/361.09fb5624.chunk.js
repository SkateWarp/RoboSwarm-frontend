"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[361],{66361:function(e,n,a){a.r(n),a.d(n,{default:function(){return le}});var t=a(23132),r=a(47313),s=a(45894),i=a(9038),o=a(4942),l=a(15861),c=a(87757),u=a.n(c),p=a(2628),f=a(31881),d=a.n(f),m=a(19386),y=(0,p.hg)("leafTypesConfigApp/leafType-components/getLeafTypes",function(){var e=(0,l.Z)(u().mark((function e(n,a){var t,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.getState,n=n||t().leafTypesConfigApp.leafTypes.routeParams,e.next=4,d().get("".concat(m.J,"/TaskTemplate"));case 4:return r=e.sent,e.next=7,r.data;case 7:return s=e.sent,e.abrupt("return",{data:s,routeParams:n});case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),x=(0,p.hg)("leafTypesConfigApp/leafType-components/addNewLeafType",function(){var e=(0,l.Z)(u().mark((function e(n,a){var t,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.dispatch,e.next=3,d().post("".concat(m.J,"/api/LeafType"),n);case 3:return r=e.sent,e.next=6,r.data;case 6:return s=e.sent,t(y()),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),g=(0,p.hg)("leafTypesConfigApp/leafType-components/updateLeafType",function(){var e=(0,l.Z)(u().mark((function e(n,a){var t,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.dispatch,e.next=3,d().put("".concat(m.J,"/api/LeafType"),n);case 3:return r=e.sent,e.next=6,r.data;case 6:return s=e.sent,t(y()),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),h=(0,p.hg)("leafTypesConfigApp/leafType-components/removeLeafType",function(){var e=(0,l.Z)(u().mark((function e(n,a){var t,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.dispatch,e.next=3,d().put("".concat(m.J,"/api/LeafType/disable/").concat(n));case 3:return r=e.sent,e.next=6,r.data;case 6:return s=e.sent,t(y()),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()),v=(0,p.HF)({}),T=v.getSelectors((function(e){return e.leafTypesConfigApp.leafTypes})).selectAll,Z=(0,p.oM)({name:"leafTypesConfigApp/leafTypes",initialState:v.getInitialState({searchText:"",routeParams:{},leafTypesConfigs:[],leafTypesConfigDialog:{type:"new",props:{open:!1},data:null}}),reducers:{openNewLeafTypesConfigDialog:function(e){e.leafTypesConfigDialog={type:"new",props:{open:!0},data:null}},closeNewLeafTypesConfigDialog:function(e){e.leafTypesConfigDialog={type:"new",props:{open:!1},data:null}},openEditLeafTypesConfigDialog:function(e,n){e.leafTypesConfigDialog={type:"edit",props:{open:!0},data:n.payload}},closeEditLeafTypesConfigDialog:function(e){e.leafTypesConfigDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:(0,o.Z)({},y.fulfilled,(function(e,n){var a=n.payload,t=a.data,r=a.routeParams;v.setAll(e,t),e.leafTypesConfigs=t,e.routeParams=r}))}),j=Z.actions,C=j.openNewLeafTypesConfigDialog,w=j.closeNewLeafTypesConfigDialog,b=j.openEditLeafTypesConfigDialog,N=j.closeEditLeafTypesConfigDialog,D=Z.reducer,k=(0,i.UY)({leafTypes:D}),L=a(2275),A=a(29439),S=a(62321),P=a(47131),E=a(71263),I=a(61113),F=a(70816),H=a.n(F),V=a(73754),_=a(93695),M=a(41789),W=a(1421),Y=a(24807),J=a(46417);var O=function(){var e=(0,s.I0)(),n=(0,s.v9)(T),a=(0,M.Z)(n,""),t=a.statusFilter,i=a.filteredData,o=(0,r.useState)(!1),l=(0,A.Z)(o,2),c=l[0],u=l[1],p=(0,r.useState)(0),f=(0,A.Z)(p,2),d=f[0],m=f[1],y=(0,r.useMemo)((function(){return[{Header:"Nombre",accessor:"name",sortable:!0},{Header:"Descripci\xf3n",accessor:"taskTypeDescription",sortable:!0},{Header:"Fecha",accessor:"dateCreated",sortable:!0,Cell:function(e){var n=e.row;return(0,J.jsx)("div",{className:"flex items-center",children:H()(n.original.dateCreated).format("DD-MM-YYYY")})}},{Header:"Categor\xeda",className:"font-bold whitespace-no-wrap",width:128,sortable:!1,Cell:function(e){var n=e.row;return(0,J.jsx)(Y.Z,{status:n.original.taskType})}},{id:"action",Header:"Eliminar",className:"justify-center",width:128,sortable:!1,Cell:function(e){var n=e.row;return(0,J.jsx)("div",{className:"flex items-center",children:(0,J.jsx)(P.Z,{onClick:function(e){e.stopPropagation(),u(!0),m(n.original.id)},children:(0,J.jsx)(E.Z,{children:"delete"})})})}}]}),[]);return t&&!i.length?(0,J.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,J.jsx)(I.Z,{color:"textSecondary",variant:"h5",children:"No hay datos!"})}):t?(0,J.jsxs)(S.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-auto w-full max-h-full",children:[(0,J.jsx)(W.Z,{columns:y,data:i,onRowClick:function(n,a){a&&e(b(a.original))},rowsPerPageOptions:[5,10,15,25]}),(0,J.jsx)(_.Z,{isOpen:c,setIsOpen:u,deleteData:function(){e(h(d))},message:"esta tarea"})]}):(0,J.jsx)(V.Z,{})},R=a(1413),q=a(14790),Q=a(96467),G=a(75627),z=a(3463),U=a(66149),X=a(75908),B=a(9289),K=a(16783),$=a(51405),ee=a(43850),ne=a(84305),ae={name:"",description:""},te=z.Ry().shape({name:z.Z_().required("Debe ingresar un nombre").min(1,"Debe de tener m\xednimo 1 caracter.")});var re=function(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e.leafTypesConfigApp.leafTypes.leafTypesConfigDialog})),a=(0,r.useState)([]),t=(0,A.Z)(a,2),i=t[0],o=(t[1],(0,G.cI)({mode:"onChange",defaultValues:ae,resolver:(0,q.X)(te)})),l=o.control,c=o.reset,u=o.handleSubmit,p=o.formState,f=p.errors,d=p.isValid,m=(0,r.useCallback)((function(){"edit"===n.type&&n.data&&c(n.data),"new"===n.type&&c(ae)}),[n.data,n.type,c]);function y(){return"edit"===n.type?e(N()):e(w())}return(0,r.useEffect)((function(){n.props.open&&m()}),[n.props.open,m]),(0,J.jsxs)(U.Z,(0,R.Z)((0,R.Z)({classes:{paper:"m-24"}},n.props),{},{onClose:y,fullWidth:!0,maxWidth:"xs",children:[(0,J.jsx)(X.Z,{position:"static",elevation:0,children:(0,J.jsx)(B.Z,{className:"flex w-full",children:(0,J.jsx)(I.Z,{variant:"subtitle1",color:"inherit",children:"new"===n.type?"Nuevo":"Editar"})})}),(0,J.jsxs)("form",{noValidate:!0,onSubmit:u((function(a){"new"===n.type?(e(ee.PV({message:"Creando..."})),e(x(a))):(e(ee.PV({message:"Actualizando..."})),e(g((0,R.Z)((0,R.Z)({},n.data),a)))),y()})),className:"flex flex-col md:overflow-hidden",children:[(0,J.jsxs)(Q.Z,{classes:{root:"p-24"},children:[(0,J.jsxs)("div",{className:"flex",children:[(0,J.jsx)("div",{className:"min-w-48 pt-20",children:(0,J.jsx)(E.Z,{color:"action",children:"account_circle"})}),(0,J.jsx)(G.Qr,{control:l,name:"name",render:function(e){var n,a=e.field;return(0,J.jsx)(K.Z,(0,R.Z)((0,R.Z)({},a),{},{className:"mb-24",label:"Nombre",type:"text",error:!!f.name,helperText:null===f||void 0===f||null===(n=f.name)||void 0===n?void 0:n.message,variant:"outlined",required:!0,fullWidth:!0}))}})]}),(0,J.jsxs)("div",{className:"flex",children:[(0,J.jsx)("div",{className:"min-w-48 pt-20",children:(0,J.jsx)(E.Z,{color:"action",children:"category"})}),(0,J.jsx)(G.Qr,{control:l,name:"description",render:function(e){var n=e.field;return(0,J.jsx)(K.Z,(0,R.Z)((0,R.Z)({},n),{},{className:"mb-24",label:"Descripci\xf3n",variant:"outlined",type:"text",fullWidth:!0}))}})]}),(0,J.jsxs)("div",{className:"flex",children:[(0,J.jsx)("div",{className:"min-w-48 pt-20",children:(0,J.jsx)(E.Z,{color:"action",children:"category"})}),(0,J.jsx)(G.Qr,{name:"taskCategoryId",control:l,render:function(e){var n=e.field;return(0,J.jsx)(K.Z,(0,R.Z)((0,R.Z)({},n),{},{autoFocus:!0,select:!0,margin:"dense",label:"Categor\xeda",className:"w-full",required:!0,children:i.map((function(e){return(0,J.jsx)($.Z,{value:e.id,children:e.name},e.id)}))}))}})]})]}),(0,J.jsx)(ne.Z,{dialogType:n.type,isValid:d})]})]}))},se=a(53709),ie=a(23025),oe=(0,L.Z)();var le=(0,t.Z)("leafTypesConfigApp",k)((function(){var e=(0,s.I0)(),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){e(y())}),[]),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(oe,{header:(0,J.jsx)(ie.Z,{pageLayout:n,headerName:"Tareas",iconType:"add_task"}),content:(0,J.jsx)(O,{}),leftSidebarContent:(0,J.jsx)(se.Z,{buttonText:"Crear",openDialogFunction:C}),sidebarInner:!0,ref:n,innerScroll:!0}),(0,J.jsx)(re,{})]})}))},53709:function(e,n,a){var t=a(45894),r=a(62321),s=a(82295),i=a(69099),o=a(46417);n.Z=function(e){var n=e.buttonText,a=e.openDialogFunction,l=(0,t.I0)();return(0,o.jsx)("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4",children:(0,o.jsx)(s.Z,{component:r.E.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"rounded-0 shadow-none lg:rounded-16 lg:shadow",children:(0,o.jsx)("div",{className:"p-24",children:(0,o.jsx)(i.Z,{variant:"contained",color:"secondary",className:"w-full",onClick:function(){return l(a())},children:n})})})})}},24807:function(e,n,a){a.d(n,{Z:function(){return o}});var t=a(83061),r=a(61113),s=function(e){return function(e){switch(e){case 1:return"Ventas";case 2:return"Gesti\xf3n Humana";case 3:return"Contabilidad";case 4:return"Almac\xe9n";case 5:return"Operaciones";case 6:return"Proyectos";case 7:return"Tecnolog\xeda";case 8:return"Mensajer\xeda";case 9:return"Compras";case 10:return"Mantenimiento";case 16:return"Gerencia";default:return""}}(e)},i=a(46417);var o=function(e){var n=e.status,a=s(n);return(0,i.jsx)(r.Z,{noWrap:!0,className:(0,t.Z)("bg-gray-900 text-white inline text-11 font-500 px-8 py-4 rounded-4 uppercase"),children:a})}}}]);